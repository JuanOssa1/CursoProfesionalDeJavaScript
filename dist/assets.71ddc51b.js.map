{"version":3,"sources":["assets/MediaPlayer.ts","assets/plugins/AutoPlay.ts","assets/plugins/AutoPause.ts","assets/index.ts"],"names":[],"mappings":"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","file":"assets.71ddc51b.js","sourceRoot":"..","sourcesContent":["/*Mi version\nconst video = document.querySelector(\"video\")//Esto selecciona lo que va a manipular en este caso\n      //es el video\nconst button = document.querySelector(\"button\")\nvar reproduciendo = true;\nbutton.onclick = () => controlVideo();\n\n\n\n\nfunction controlVideo(){\n    reproduciendo ? video.play() : video.pause();\n}\nvideo.onpause = () =>{/*Mira si el video esta pausado\n    reproduciendo = true;\n}\nvideo.onplaying = () =>{\n    reproduciendo = false;\n}\nexport default MediaPlayer;\n*/\nclass MediaPlayer {\n  media: HTMLMediaElement;\n  plugins: Array<any>;\n  constructor(config) {\n    this.media = config.el;\n    this.plugins = config.plugins || [];\n\n    this.initPlugins();\n  }\n  private initPlugins() {\n    \n    /*Si yo ahora mando player en vez del this que estoda la clase\n    no todas las funciones van a tener acceso lo cual en parte es bueno porque \n    asi puedo controlar que metodos pueden acceder a que */\n    this.plugins.forEach((plugin) => {\n      plugin.run(this);\n    });\n  }\n  play() {\n    this.media.play();\n  }\n  pause() {\n    this.media.pause();\n  }\n  togglePlay() {\n    this.media.paused ? this.play() : this.pause();\n  }\n  /*\n  mute() {\n    console.log(\"CALLAME PUES\");\n    this.media.muted = true;\n  }\n  unmute() {\n    this.media.muted = false;\n    console.log(\"ABRIME LA BOCA\");\n  }\n  */\n  toggleMute() {\n    this.media.muted = !this.media.muted;\n    /**\n     * Ahi lo que hace es asignar el valor distinto\n     * al presente y ya\n     */\n    /*\n    if ((this.media.muted === false)) {\n        mute(); \n    } else{\n        unmute();\n    }\n    */\n    //this.media.muted ? this.mute() : this.unmute();\n  }\n  \n}\nexport default MediaPlayer;\n","\nimport MediaPlayer from '../MediaPlayer';\nclass AutoPlay {\n    constructor() { }\n    run(player: MediaPlayer) {\n        if (!player.media.muted) {\n            /*Aqui lo que estoy haciendo es un setter y le estoy diciendo\n            que si no esta muteado setee la propiedad a mute*/\n            /*player.muted(true); uno se veria tentado a hacerlo asi pero\n            no esta bien porque aunque parezcan una funcion en realidad son\n            un atributo*/\n            player.media.muted = true;\n        }\n        player.play();\n    }\n}\n\nexport default AutoPlay; ","/**NO OLVIDAR QUE ESTO HAY QUE CORRERLO ES COMO npm start porque \n * live server no soporta typescript\n */\nimport MediaPlayer from \"../MediaPlayer\";\nclass AutoPause {\n    private threshold: number;\n    player: MediaPlayer;\n    constructor(){\n        \n        /**Como vimos en clases anteriores ahora el bind va a hacer esta vaina\n         * general porque si la meto dentro del intersection observer no puedo acceder \n         * a ella en otros metodos porque seria undefined\n         */\n        this.threshold = 0.25;\n        this.handleIntersection = this.handleIntersection.bind(this);\n        this.handleVisibilityChange = this.handleVisibilityChange.bind(this);\n    }\n    run(player){\n        this.player = player;/*Recordar que esto se hace para ya pueda acceder a ella desde adentro mas abajo*/\n        const observer = new IntersectionObserver(this.handleIntersection, {threshold: this.threshold })/**Recibe dos argumentos\n        el handler que recibe el anuncio de lo sucedido y el objeto de configuracion\n        es como el parametro que definimos como alerta en este caso como es lo que se ve del contenedor\n        queremos que este mirando la pantalla y cugit ando esta llegue a solo un 25% nos avise \n        threshold significa limite en ingles ocurre cada cada que pase por ese limite*/\n        observer.observe(this.player.media); /**Aqui defino que quiero que se observe que es rttda la pantalla*/\n\n        document.addEventListener(\"visibilitychange\", this.handleVisibilityChange)\n    }\n    /**Se pone IntersectionObserverEntru porque ese es el tipo de objeto que le esta entrnado por parametro */\n    private handleIntersection(entries : IntersectionObserverEntry[]){ /**Le pasa una lista de todos los objetos que estamos observando y como \n    en este caso solo hay uno pues... */\n        const entry = entries[0];\n        /**intersection ratio es un  atributo que ya tiene entry aqui\n         * ademas estoy diciendo que esta visible es decir si esta intesrcetion es mayor\n         * al limite que he puesto es porque se puede ver todavia lo suficiente\n         */\n        const isVisible = entry.intersectionRatio >= this.threshold;\n        isVisible ? this.player.play():this.player.pause();\n        console.log(entry);\n    }\n    private handleVisibilityChange(){\n        const isVisible = document.visibilityState === \"visible\"\n        isVisible ? this.player.play():this.player.pause();\n    }\n}\nexport default AutoPause;","/*\nimport MediaPlayer from './MediaPlayer';\nconst video = document.querySelector(\"video\");//Esto selecciona lo que va a manipular en este caso\n      //es el video\nconst button = document.querySelector(\"button\");\nvar reproduciendo = true;\n\nbutton.onclick = () => controlVideo();\n*/\nimport MediaPlayer from './MediaPlayer';\nimport AutoPlay from './plugins/AutoPlay';\nimport AutoPause from './plugins/AutoPause';\n\nconst video = document.querySelector('video');\nconst player = new MediaPlayer({ el: video, plugins: [new AutoPlay(), new AutoPause()] });\n/**Aqui se observa */\n\nconst buttonMute: HTMLElement = document.getElementById('muteunmute');\n\nconst buttonPlay: HTMLElement = document.getElementById('pauseplay');\n\nbuttonPlay.onclick = () => player.togglePlay();\nbuttonMute.onclick = () => player.toggleMute();\n\n/**Esto sirve para verificar si el navegador tiene esta utilidad ya que no\n * todos los bnavegadores la tienen debido a que todavia es muy nueva\n */\nif('serviceWorker' in navigator){\n      navigator.serviceWorker.register('/sw.js').catch(error => {\n            console.log(error.message);\n      });\n\n}\n"]}