{"version":3,"sources":["assets/MediaPlayer.ts","assets/plugins/AutoPlay.ts","assets/plugins/AutoPause.ts","assets/plugins/Ads/Ads.ts","assets/plugins/Ads/index.ts","assets/index.ts"],"names":[],"mappings":";;;;;AAAA;AEIA,ADFA,ICEA,ADFA,QAAA,CCEA;AAAA,ADFA;ACEA,ADFA,YCEA,ADFA;ACKI,ADJA,WCIA,ADJA,QAAA,CCIA,EDJA,CCIA,ADJiB;ACMb;AGTR,ADEA,AHEI,EAAA,QAAA,CAAA,SAAA,CAAA,GAAA,GAAA,UAAI,MAAJ,EAAuB;AACnB,QAAI,CAAC,MAAM,CAAC,KAAP,CAAa,KAAlB,EAAyB;AACrB;ACOJ,SAAK,SAAL,GAAiB,IAAjB;ACAR,ACRA,AFSQ,IETR,KAAA,AFSa,GETb,eAAA,AFSQ,CETR,EFSkC,KETlC,AFSuC,CETvC,OAAA,CAAA,CAAA,QFSkC,CAAwB,IAAxB,CAA6B,IAA7B,CAA1B;AACA,ADPI,SCOC,sBAAL,GAA8B,KAAK,sBAAL,CAA4B,IAA5B,CAAiC,IAAjC,CAA9B;ACDR,ACRA,AFUK,ICFC,ACRN,ODQa,ECRb,CDQsB,CAClB;AACE,ACVN,EDUM,QAAQ,EACN,oHAFJ;AAGE,ACZN,AFWI,ADNQ,EEON,ADDF,IDNQ,CEOD,EAAE,EDDT,CEXJ,AFWI,ADNc,CAAC,KAAP,CAAa,ECMrB,CAAA,EDNQ,CCMR,EDN6B,CCM7B,GDNQ,OCMJ,ICFJ,EDEA,EAAU;ACER,ACRF,AFOI,ADNC,EEOH,IAAI,EACF,CDFK,EEPT,IFOI,GAAc,EEPlB,GAAA,CFOI,0GCHJ;AENJ,AFYM,ACTE,AFMqB,ECGvB,EEZN,CFYS,EAAE,ECTE,GAAL,GAAW,ECHnB,GAAA,ADGmB,CAAA,OAAA,CAAI,MCHvB,CAAA,IDGmB,EAAX,CCHR,CAAA,eAAA,CAAA,CAAA;AFMI,ACFI,AHAA,CECc,EAUlB,CFXI,MAAM,CAAC,IAAP;AIHR,AFeM,ADNE,ADLH,EEWC,CFrBF,CIMJ,IHSc,ECMA,EACN,EEhBR,EHSsB,CGTtB,EHSyB,IAAI,SGT7B,CAAA,OAAA,CAAA,EHSyB,CAAyB,KAAK,YGTvD,CAAA,CAAA,IHSyB,EAAkD,uDCKvE;AAGE,ADRsE,ECQtE,IDRsE,CCQjE,EAAE,MDRwE,EAAE,KAAK,gBCKxF;AEbJ,AFiBM,ADTqE,ADJ3E,EEaM,EEjBN,CHQyB,CCSf,ADTF,ECUA,CFdR,MIJA,EJIA,CIJA,eAAA,CAAA,OAAA,CAAA,qBAAA,CAAA,CAAA,oEFaI;AAME,ACdE,AFGgG,ADjBxG,CAAA,CE4BM,CF5BN,EE4BS,EAAE,ECdE,gBAAL,GAAwB,KAAK,gBAAL,CAAsB,IAAtB,CAA2B,IAA3B,CAAxB;AJKR,AKTA,AFYI,ACPC,CDHiB,EAmBlB,CHZJ,AKTA,KAAA,GAAA,GLSA,YKTA,CAAA,OAAA,CAAA,eAAA,CAAA,CAAA;ALSA,AGaM,AFjBN,EEiBM,KFjBN,CAAA,EEiBc,EACN,GFlBR,GAAe,QAAf,4FEgBI;AHZJ,AKPA,AFsBM,AClBF,EDkBE,AClBF,ECJE,GFsBK,EEtBA,AFsBE,EClBT,CJGJ,AKPc,ADIV,QCJkB,CAAC,ADInB,CAAA,GAAA,GAAA,MCJU,CAAuB,GDI7B,CDeJ,GEnBU,CAAd,CDII,EAAuB;AJOzB,AKVF,AFsBM,AClBE,EDkBF,EEtBA,EFsBI,EACF,CCnBK,CCJD,CLUV,EKVa,EDIP,ECJW,CDIG,IJMpB,CAAY,CINN,KJMN,CKViB,CLUC,AKVD,OAAJ,CAAgB,sHFkB3B;AHPA,AKX6B,AFwB3B,ACnBE,ECLyB,AFwB3B,EExB6B,CFwB1B,CExB4B,CFwB1B,EHbF,AINI,ECLkB,GLW3B,AINI,GJMS,AINI,KAAK,CJMH,CAAC,EAApB,EINiB,CAAY,KAAzB;AJOJ,AKZwC,AFkBxC,ACXI,AFEA,CCVc,CECsB,CF2BxC,CDlBI,KFGC,AKZ0C,ADOtC,ECPwC,CAAC,AHStC,CAAC,CEFT,CAAW,CJKf,AKZsD,GLYvC,CEHX,CAAiB,IFGA,CAAC,AKZgC,AHS5B,CGT4B,IDOlD,CAA4B,AFEX,CFGN,AEHkB,CGTiB,EAAD,CLYhB,CKZiC,AHS9D,CFGJ,GKZsE,EDOlE,EAA0C,KAAK,ECPmB,CAAA,OAAJ,EAAjB,EAAkC,EDO/E,ECPmF,KAAA,CAAA,OAAJ,EAAlC;ALajD,AKb2B,AF4BzB,ACpBD,AFCwC,CGT9B,CAAf,AF4BM,CCzBF,MJUK,CGeK,EACN,OHhBJ,8FGcA;AHbA,AKbJ,AF6BM,EAAA,KAAK,EHhBF,AGiBD,WHjBJ,sHGaA;AHZD,AGiBG,ACvBM,AFEJ,ECqBF,ACvBM,EFEJ,ECqBE,EACF,GCxBI,CAAA,AFEI,CAAC,QEFL,CAAA,OFEJ,CAA0B,QEFtB,GAAR,OFEI,EAA8C,GEFlD,EFEuD,sBAAnD,qDCgBJ;AExBJ,AF+BM,ACxBF,AFEC,ECsBC,CDhCF,CGCE,CF+BG,EAAE,OE/BK,GAAgB,QAAQ,CAAC,cAAT,CAAwB,YAAxB,CAAhC;ALaE,AKXF,AFsBI,ADdA,CCdkB,CHiBpB,CGqBE,CEhCE,SLWJ,CAAA,AKXc,GAAgB,MLW9B,CAAA,CKXsC,CAAC,QLWvC,GAAA,GKX8B,CAAwB,QLWtD,GKX8B,CAAhC;ALYI,AGqBE,EAAA,OHrBG,CGqBK,EACN,MHtBJ,GAAiB,QAAQ,CAAC,aAAT,CAAuB,KAAvB,CAAjB,8EGoBA;AHnBA,AKXJ,AFiCM,AC3BE,ED2BF,KAAK,CC3BG,CJKL,AGsBI,CEjCH,CAAC,GLWP,CAAW,GKXf,CDMyB,ECNJ,CDMO,GJKxB,CAAsB,AILM,CAAC,KAAL,CCNP,ADMkB,KJKnC,AILwC,CJKL,IILA,CJKK,AILM,KDwB9C,IHnBA,EAAmD,AIL3B,CAApB,IJKoD,KAAxD;AACA,AKZuB,AFkCrB,AD3BM,EC2BN,AD3BM,IC2BF,EACF,CHvBC,AKZkB,EHOf,CAAA,GGPqB,CAAC,ELY9B,CAAe,EELP,CAAA,IGPe,EAAA,ELYvB,CAA2B,KAAK,IELxB,CFKR,EELA,UAA2B,OAA3B,EAAgE,6FCuBhE;AHjBD,AKb2C,AFoCxC,AC7BE,AFEA,CGTR,CFoCM,CH3BJ,EG2BO,EAAE,CC7BA,AFEG,KAAK,GAAG,GEFA,GAAG,CFEI,CEFlB,AFEmB,CAAD,CAArB,GEFwB,CAAxB,EAA0B;ADuB9B,ACtBQ,AFEJ,CClBc,EA+ClB,QC/Ba,QAAL;AJMF,AKbV,AFuCM,AC/BG,EJKC,AG0BJ,QEvCI,AFuCI,CEvCH,CFwCH,CH3BE,CAAA,IKbV,GAAqB,ELaX,CAAA,SKbW,ELaX,GAAR,YAAA,wEGyBE;AHzBF,AKbyB,AFyCrB,AChCD,EDgCC,CCxCM,IDwCD,CH5BT,CKbyB,AFyCd,IH5BX,EKb+B,CLa/B,AKbgC,ILahC,MKbyB,EAAA,YFsCvB;AHvBA,AKf0C,AF0CxC,CE1CN,CF0CM,IAAI,EACF,+MALJ;AEpCJ,AF0CM,AClCM,EDkCN,AClCM,GDkCH,EAAE,IClCC,CAAA,SAAA,CAAA,QAAA,GAAR,YAAA;AD4BA,AC3BI,AFEA,CCtBc,EAwDlB,KCpCO,AFEG,KEFE,IFEO,GAAG,EEFlB,EAAkB,CFEK,CAAC,iBAAN,IAA2B,KAAK,SAAlD;ACmCF,ACpCM,AFEJ,ECkCF,EDlCE,MCkCM,EACN,CDnCS,GAAG,KAAK,MAAL,CAAY,IAAZ,EAAH,GAAsB,KAAK,MAAL,CAAY,KAAZ,EAA/B,uDCiCJ;AAGE,ACrCG,AFED,ECmCF,EDnCE,GCmCG,EAAE,EDnCE,CAAC,GAAR,CAAY,KAAZ,gBCgCJ;AH7BA,AGiCE,ADnCD,ECmCC,CD7CM,GC6CF,EACF,CHlCC,OAAL,CAAa,OAAb,CAAqB,UAAC,MAAD,EAAO,mLG6B5B;AH5BE,AKdN,AFgDM,ACvCE,EDuCF,EEhDH,CFgDM,CHlCH,CGkCK,CCvCG,EAAE,EJKJ,CAAC,AILM,GJKb,CAAW,CILO,GAAL,CJKb,AILsB,CCTN,IDSH,EAAX,GCTR,EAAgC;ALe3B,AKdC,AFyCF,AChCI,AFEI,CC1BU,CEehB,AHWM,CCuCR,EHtCA,IIHS,ECTE,AHWH,CGXI,AHWJ,MEFJ,GAAiB,AFEb,CAAA,CEFJ,ECTF,CAAwB,QAAxB,CAAiC,SHW3B,GAAR,YAAA,cGXE,EAA2C,KAA3C,CAAiD,UAAA,KAAA,EAAK;ALezD,AKdS,AFkDN,ACzCE,AFEA,ECuCF,CH5CI,CKNE,ADSJ,IFEM,ECuCA,CElDK,ADSJ,CCTK,AFmDZ,AC1CQ,GCTJ,ADSJ,CCTgB,ADSJ,CFEG,CEFf,EFEkB,CGXG,CAAC,MHWI,CGXtB,AHWuB,eAAT,KAA6B,SAA/C,2DCsCJ;AEhDG,AFmDD,AC1CD,AFEG,ECwCF,CErDA,ADIM,CFSJ,GCwCG,EAAE,IDxCI,GAAG,KAAK,MAAL,CAAY,IAAZ,EAAH,GAAsB,GCqCnC,EDrCwC,MAAL,CAAY,KAAZ,EAA/B;AFGN,AKZD,AFkDK,ADxCD,EFEH,AGsCI,CD3CM,GC2CF,EACF,KHvCN,CAAA,SAAA,CAAA,IAAA,GAAA,YAAA,wFGkCE;AHjCA,AGuCE,AC5CN,ED4CM,GAAG,EAAE,EHvCF,AILT,KJKI,CAAW,GILf,CJKI;AACD,AGgCC,ACzEJ,AFsCA,CC9BsB,ACRtB,CDQA,CH+BE,AIvCF,MFsCA,SAAA;AAxCA,CAAA,EAAA;AF4CE,AGyCF,AC/CA,EJME,EGyCF,GAAA,AC/CA,CAAA,KJME,CAAA,CINF,GAAe,KJMb,CAAA,GINF,EJME,GAAA,YAAA;AACE,AGwCJ,AD5CA,OAAA,CAAA,CFIS,KAAL,CAAW,AEJf,GAAe,EFIX,OEJJ;AFKG,AGuCH,GHzCE,SGyCF;AAII,WAAA,GAAA,GAAA;AH1CF,AG2CM,EH3CN,OG2CW,IH3CX,CAAA,EG2CM,OH3CN,CAAA,UAAA,GAAA,YAAA;AACE,AG2CC,SH3CI,KAAL,CAAW,MAAX,GAAoB,KAAK,IAAL,EAApB,GAAkC,KAAK,KAAL,EAAlC;AACD,GAFD;AAGA,AG2CS,EAAA,GAAA,CAAA,WAAA,GAAP,YAAA;AACI;;;AAGA,QAAG,CAAC,GAAG,CAAC,QAAR,EAAiB;AACb,MAAA,GAAG,CAAC,QAAJ,GAAe,IAAI,GAAJ,EAAf;AACH;;AACD,WAAO,GAAG,CAAC,QAAX;AACH,GARM;;AAWC,EAAA,GAAA,CAAA,SAAA,CAAA,OAAA,GAAR,YAAA;AH5CF,AG6CM,EH7CN,WAAA,CAAA,SAAA,CAAA,UAAA,GAAA,YAAA;AACE,SAAK,KAAL,CAAW,KAAX,GAAmB,CAAC,KAAK,KAAL,CAAW,KAA/B;AACA;;AG+CI,SAAK,GAAL,GAAQ,aAAA,CAAA,EAAA,EAAO,OAAP,EAAc,IAAd,CAAR;AAAuB;;AH3C3B;AG+CC,GATO;AAUR;;;;;AHzCA;AACD,GAdD;;AAgBF,AG4CI,EAAA,GAAA,CAAA,GH5CJ,MG4CI,CAAA,IH5CJ,CG4CI,GAAA,YAAA;AHvGJ,AGwGQ,CHxGR,EAAA;AGyGQ,QAAG,KAAK,GAAL,CAAS,MAAT,KAAoB,CAAvB,EAAyB;AH7CjC,AG8CY,OH9CZ,CAAA,GG8CiB,IH9CjB,GAAe,AG8CH,WH9CZ;AG+CS;;AACD,WAAO,KAAK,GAAL,CAAS,GAAT,EAAP;AACH,GAND;;AAOJ,SAAA,GAAA;AA1CA,CAAA,EAAA;;AA2CA,OAAA,CAAA,OAAA,GAAe,GAAf","file":"assets.71ddc51b.js","sourceRoot":"..","sourcesContent":["/*Mi version\nconst video = document.querySelector(\"video\")//Esto selecciona lo que va a manipular en este caso\n      //es el video\nconst button = document.querySelector(\"button\")\nvar reproduciendo = true;\nbutton.onclick = () => controlVideo();\n\n\n\n\nfunction controlVideo(){\n    reproduciendo ? video.play() : video.pause();\n}\nvideo.onpause = () =>{/*Mira si el video esta pausado\n    reproduciendo = true;\n}\nvideo.onplaying = () =>{\n    reproduciendo = false;\n}\nexport default MediaPlayer;\n*/\nclass MediaPlayer {\n  media: HTMLMediaElement;\n  plugins: Array<any>;\n  container: HTMLElement;\n  constructor(config) {\n    this.media = config.el;\n    this.plugins = config.plugins || [];\n    this.initPlayer();\n    this.initPlugins();\n  }\n  initPlayer(){\n    this.container = document.createElement('div');\n    this.media.parentNode.insertBefore(this.container, this.media);\n    this.container.appendChild(this.media)\n  }\n  private initPlugins() {\n    \n    /*Si yo ahora mando player en vez del this que estoda la clase\n    no todas las funciones van a tener acceso lo cual en parte es bueno porque \n    asi puedo controlar que metodos pueden acceder a que */\n    this.plugins.forEach((plugin) => {\n      plugin.run(this);\n    });\n  }\n  play() {\n    this.media.play();\n  }\n  pause() {\n    this.media.pause();\n  }\n  togglePlay() {\n    this.media.paused ? this.play() : this.pause();\n  }\n  /*\n  mute() {\n    console.log(\"CALLAME PUES\");\n    this.media.muted = true;\n  }\n  unmute() {\n    this.media.muted = false;\n    console.log(\"ABRIME LA BOCA\");\n  }\n  */\n  toggleMute() {\n    this.media.muted = !this.media.muted;\n    /**\n     * Ahi lo que hace es asignar el valor distinto\n     * al presente y ya\n     */\n    /*\n    if ((this.media.muted === false)) {\n        mute(); \n    } else{\n        unmute();\n    }\n    */\n    //this.media.muted ? this.mute() : this.unmute();\n  }\n  \n}\nexport default MediaPlayer;\n","\nimport MediaPlayer from '../MediaPlayer';\nclass AutoPlay {\n    constructor() { }\n    run(player: MediaPlayer) {\n        if (!player.media.muted) {\n            /*Aqui lo que estoy haciendo es un setter y le estoy diciendo\n            que si no esta muteado setee la propiedad a mute*/\n            /*player.muted(true); uno se veria tentado a hacerlo asi pero\n            no esta bien porque aunque parezcan una funcion en realidad son\n            un atributo*/\n            player.media.muted = true;\n        }\n        player.play();\n    }\n}\n\nexport default AutoPlay; ","/**NO OLVIDAR QUE ESTO HAY QUE CORRERLO ES COMO npm start porque \n * live server no soporta typescript\n */\nimport MediaPlayer from \"../MediaPlayer\";\nclass AutoPause {\n    private threshold: number;\n    player: MediaPlayer;\n    constructor(){\n        \n        /**Como vimos en clases anteriores ahora el bind va a hacer esta vaina\n         * general porque si la meto dentro del intersection observer no puedo acceder \n         * a ella en otros metodos porque seria undefined\n         */\n        this.threshold = 0.25;\n        this.handleIntersection = this.handleIntersection.bind(this);\n        this.handleVisibilityChange = this.handleVisibilityChange.bind(this);\n    }\n    run(player){\n        this.player = player;/*Recordar que esto se hace para ya pueda acceder a ella desde adentro mas abajo*/\n        const observer = new IntersectionObserver(this.handleIntersection, {threshold: this.threshold })/**Recibe dos argumentos\n        el handler que recibe el anuncio de lo sucedido y el objeto de configuracion\n        es como el parametro que definimos como alerta en este caso como es lo que se ve del contenedor\n        queremos que este mirando la pantalla y cugit ando esta llegue a solo un 25% nos avise \n        threshold significa limite en ingles ocurre cada cada que pase por ese limite*/\n        observer.observe(this.player.media); /**Aqui defino que quiero que se observe que es rttda la pantalla*/\n\n        document.addEventListener(\"visibilitychange\", this.handleVisibilityChange)\n    }\n    /**Se pone IntersectionObserverEntru porque ese es el tipo de objeto que le esta entrnado por parametro */\n    private handleIntersection(entries : IntersectionObserverEntry[]){ /**Le pasa una lista de todos los objetos que estamos observando y como \n    en este caso solo hay uno pues... */\n        const entry = entries[0];\n        /**intersection ratio es un  atributo que ya tiene entry aqui\n         * ademas estoy diciendo que esta visible es decir si esta intesrcetion es mayor\n         * al limite que he puesto es porque se puede ver todavia lo suficiente\n         */\n        const isVisible = entry.intersectionRatio >= this.threshold;\n        isVisible ? this.player.play():this.player.pause();\n        console.log(entry);\n    }\n    private handleVisibilityChange(){\n        const isVisible = document.visibilityState === \"visible\"\n        isVisible ? this.player.play():this.player.pause();\n    }\n}\nexport default AutoPause;","/**Aqui es lo que se va a encargar de hacer\n * los ads y ponerlos en el video como aparece en youtube\n * pero bvvamos a usar singleton para no repwetir ads\n */\n/**Aqui hacemos el export porque luego en el import tengo que llamar \n * esta interfaz\n */\nexport interface Ad{\n    imageUrl: string;\n    title: string;\n    body: string;\n    url: string;\n}\n/**Todos los ads siguen la estructura de la interfaz */\nconst ALL_ADS: Ad[] = [\n    {\n      imageUrl:\n        'https://static.platzi.com/media/achievements/badge-profesional-javascript-13538df2-24ce-433f-9aa6-e34eed608e70.png',\n      title: 'Curso Profesional de JavaScript',\n      body:\n        'Mejora tus habilidades en Javascript. Conoce Typescript y cómo puedes ocuparlo para mejorar el control de tus variables.',\n      url: 'https://platzi.com/cursos/javascript-profesional/',\n    },\n  \n    {\n      imageUrl:\n        'https://static.platzi.com/media/achievements/badge-frontend-developer-8a49e681-3e22-408d-b886-2f47dfc9953a.png',\n      title: 'Curso de Frontend Developer',\n      body:\n        'Domina las bases de HTML y CSS. Define la arquitectura de tu código y construye un sitio web usando componentes estáticos. ',\n      url: 'https://platzi.com/cursos/frontend-developer/',\n    },\n  \n    {\n      imageUrl:\n        'https://static.platzi.com/media/achievements/badge-backend-node-8e6aa8a9-f7cd-42b7-bf4a-e1ee916a942b.png',\n      title: 'Curso de Backend con Node.js',\n      body:\n        'Crea aplicaciones backend utilizando Node.js, Express y Mongo. Entiende cómo funciona Javascript en un servidor y escribe aplicaciones con Node.js.',\n      url: 'https://platzi.com/cursos/backend-nodejs/',\n    },\n  \n    {\n      imageUrl:\n        'https://static.platzi.com/media/achievements/badge-prework-da6b0493-9908-40f3-ad53-f5d330b995b8.png',\n      title:\n        'Comienza tus proyectos de desarrollo para JavaScript configurando un entorno de desarrollo cómodo y adaptado a tus necesidades.',\n      body:\n        'Mejora tus habilidades en Javascript. Conoce Typescript y cómo puedes ocuparlo para mejorar el control de tus variables.',\n      url: 'https://platzi.com/cursos/prework/',\n    },\n  \n    {\n      imageUrl:\n        'https://static.platzi.com/media/achievements/badge-autenticacion-passport-6d45426a-2b24-4757-8927-7bfaf54529dd.png',\n      title: 'Curso de Autenticación con Passport.js',\n      body:\n        'Genera estrategias de autenticación Sign-In y Sign-Out usando Passport.js. Agrega autenticación con Facebook, Twitter y Google a tus desarrollos.',\n      url: 'https://platzi.com/cursos/passport/',\n    },\n  \n    {\n      imageUrl:\n        'https://static.platzi.com/media/achievements/badge-backend-frontend-02b2ac18-331a-4959-85bf-0bd3c2aa009c.png',\n      title: 'Curso de Backend for Frontend',\n      body:\n        'La ingeniería de software evoluciona día a día, no te quedes atrás. Ahora que eres un Desarrollador FullStack JavaScript necesitas evolucionar con el software, construye arquitecturas de software modernas.',\n      url: 'https://platzi.com/cursos/bff/',\n    },\n  \n    {\n      imageUrl:\n        'https://static.platzi.com/media/achievements/badge-react-adec89d0-1c35-4c9c-847e-18c284dc79dd.png',\n      title: 'Curso Práctico de React JS',\n      body:\n        'React es una de las librerías más utilizadas hoy para crear aplicaciones web. Aprende a través de la creación de la interfaz de PlatziVideo todo lo que necesitas para crear increíbles componentes con React.      ',\n      url: 'https://platzi.com/cursos/react-ejs/',\n    },\n  \n    {\n      imageUrl:\n        'https://static.platzi.com/media/achievements/badge-react-redux-2ca3c0a5-fc53-437f-bfba-69e9ddd5a803.png',\n      title: 'Curso de React Router y Redux',\n      body:\n        'Aprende de forma práctica a implementar React Router para manejar rutas en tus proyectos de frontend como un profesional.',\n      url: 'https://platzi.com/cursos/react-router-redux/',\n    },\n  ];\n\nclass Ads {\n    private static instance: Ads;\n    private ads: Ad[];\n\n    private constructor(){\n        this.initAds();\n    }\n\n    static getInstance(){\n        /**Aqui creo la isntacia de ads y es lo que voy a \n         * retornar\n         */\n        if(!Ads.instance){\n            Ads.instance = new Ads();\n        }\n        return Ads.instance;\n    }\n\n\n    private initAds(){\n        /**No lo debemos hacer asi porque \n         * cuado hagamos pop de los ads estaremos\n         * sacando los ads que habiamos definido en un principio\n         * y queremos mantener una copia de los ads this.ads = ALL_ADS;*/\n        this.ads = [...ALL_ADS]/**Esto se llama destructuring\n        y estamos metiendo los ads en otro arrgelo por lo que estamos haciendo una\n        copia del principal */\n\n    }\n    /**Aqui es mas claro porque siorve el singleton porque si\n     * creara varios  objetos de ads tendria varias veces ese arreglo\n     * y podria repetir ads mientras que si tengo la misma instancia pues todos estan\n     * usando la misma por lo que cuando quien use el ad lo saque pues \n     * como todos usan la misma instaic apues ese ad estara removida de todas\n     */\n    getAd(){\n        /**Aqui lo vuelve a cargar todos los ads si se acaban */\n        if(this.ads.length === 0){\n            this.initAds();\n        }\n        return this.ads.pop();\n    }\n}\nexport default Ads; ","/**Aqui se implementa el plugin como tal */\nimport MediaPlayer from '../../MediaPlayer'\n/**Asi es como hago que el ad este representado en la interfaz en la \n * otra clase\n */\nimport Ads, {Ad} from './Ads'\nclass AdsPlugin {\n    private ads: Ads;\n    private player: MediaPlayer;\n    private media: HTMLMediaElement;\n    private currentAd: Ad\n    constructor(){\n        this.ads = Ads.getInstance();\n        /**Recordar que esto se hace por el scope y para que el event listener pueda\n         * acceder al this que queremos\n         */\n        this.handleTimeUpdate = this.handleTimeUpdate.bind(this)\n    }\n    run(player: MediaPlayer){\n        this.player = player;\n        this.media = this.player.media;\n\n        this.media.addEventListener('timeupdate', this.handleTimeUpdate);\n    }\n    private handleTimeUpdate(){\n    /**Este tiene un elemento para actializat el tiempo de la media por ejemplo en\n     * un video\n    */\n        const currentTime = Math.floor(this.media.currentTime);\n        if(currentTime % 30 === 0){\n            this.renderAd();\n        }\n    }\n    private renderAd(){\n        if(this.currentAd){\n            return;\n        }\n        const ad = this.ads.getAd();\n        this.currentAd = ad;\n        console.log(ad);\n    }\n}\nexport default AdsPlugin;","/*\nimport MediaPlayer from './MediaPlayer';\nconst video = document.querySelector(\"video\");//Esto selecciona lo que va a manipular en este caso\n      //es el video\nconst button = document.querySelector(\"button\");\nvar reproduciendo = true;\n\nbutton.onclick = () => controlVideo();\n*/\nimport MediaPlayer from './MediaPlayer';\nimport AutoPlay from './plugins/AutoPlay';\nimport AutoPause from './plugins/AutoPause';\nimport Ads from './plugins/Ads';\n\nconst video = document.querySelector('video');\nconst player = new MediaPlayer({ el: video, plugins: [new AutoPlay(), new AutoPause(), new Ads()] });\n/**Aqui se observa */\n\nconst buttonMute: HTMLElement = document.getElementById('muteunmute');\n\nconst buttonPlay: HTMLElement = document.getElementById('pauseplay');\n\nbuttonPlay.onclick = () => player.togglePlay();\nbuttonMute.onclick = () => player.toggleMute();\n\n/**Esto sirve para verificar si el navegador tiene esta utilidad ya que no\n * todos los bnavegadores la tienen debido a que todavia es muy nueva\n */\nif('serviceWorker' in navigator){\n      navigator.serviceWorker.register('/sw.js').catch(error => {\n            console.log(error.message);\n      });\n\n}\n"]}